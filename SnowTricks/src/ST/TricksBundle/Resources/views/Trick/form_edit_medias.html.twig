<div class="trick_form">
  {{ form_start(formEditMedia, {'attr': {'class': 'form-horizontal'}}) }}


  {# Les erreurs générales du formulaire. #}
  {{ form_errors(formEditMedia) }}

   <div class="media">

   <div class="row col-sm-12 button-return"><a href="{{ path('tricks_edit', {'id': trick.id}) }}" class="btn btn-primary btn-lg" data-toggle="modal" data-backdrop="false">
        Retour à la modification du trick {{trick.name}}
      </a></div>

   
 <hr class="divider">

 
  <div class="form-group"  id="thumbnail_edit">
    {{ form_label(formEditMedia.thumbnail, "Image à la une", {'label_attr': {'class': 'control-label'}}) }}
    {{ form_errors(formEditMedia.thumbnail) }}
    {% if trick.thumbnail is defined %}
          {% if trick.thumbnail is not null %}
    <div>
      <img src="{{ asset(trick.thumbnail.webPath) }}" alt="{{ trick.thumbnail.alt }}" class="img-responsive thumb-edit">
    </div>
          {% endif %}
    {% endif %}
    {{ form_widget(formEditMedia.thumbnail) }}
    <a href="#thumbnail_delete" class="btn-form" data-toggle="modal" data-backdrop="false"><i class="fa fa-trash-o" aria-hidden="true"></i></a>
    </div>

                     <hr class="divider">

    
            <div class="media_images">
            <div>{{ form_label(formEditMedia.images, "Images", {'label_attr': {'class': 'control-label'}}) }}</div>
            <div id="{{ formEditMedia.images.vars.id }}" data-prototype="{{ form_widget(formEditMedia.images.vars.prototype)|e ('html_attr')}}" class="form-group">
                          {{ form_errors(formEditMedia.images) }}
                {% for image in formEditMedia.images %}
                    <div class="col-md-2" id="image-{{loop.index0}}">
                        <div class="trick-view"><img src="{{ asset(image.vars.value.webPath) }}" alt="{{ asset(image.vars.value.alt) }}" class="img-responsive thumb-home"></div>
                        <div class="fileUpload">{{ form_widget(image, {'label': '<i class="fa fa-pencil" aria-hidden="true"></i>'})  }}</div>

                        <a href="#delete_image_{{image.vars.value.id}}" class="btn-form" data-toggle="modal" data-backdrop="false"><i class="fa fa-trash-o" aria-hidden="true"></i></a>
                    </div>

                {% endfor %}

            </div>                    

            <div class="add"><a href="#" id="add_image" class="btn-form">Ajouter une image</a></div>

        </div>

                 <hr class="divider">


        <div class="media_videos">
            <div>{{ form_label(formEditMedia.videos, "Vidéos", {'label_attr': {'class': 'control-label'}}) }}</div>
            <div id="{{ formEditMedia.videos.vars.id }}" data-prototype="{{ form_widget(formEditMedia.videos.vars.prototype)|e ('html_attr')}}" class="form-group">
                          {{ form_errors(formEditMedia.videos) }}
                {% for video in formEditMedia.videos %}
                    <div class="col-md-3" id="video-{{loop.index0}}">
                        <div class="trick-view"><iframe class="img-responsive thumb-home" src="{{ asset(video.vars.value.url) }}" allowfullscreen></iframe></div>
                        <div class="fileUpload">{{ form_widget(video, {'attr': {'class': 'custom-file-input'}})  }}</div>

                        <a href="#delete_video_{{video.vars.value.id}}" class="btn-form" data-toggle="modal" data-backdrop="false"><i class="fa fa-trash-o" aria-hidden="true"></i> </a>
                    </div>
                {% endfor %}
            </div>
        </div> <div class="add"><a href="#" id="add_video" class="btn-form">Ajouter une vidéo</a></div>
         <hr class="divider">
    </div>

   


  

  {# Génération automatique des champs pas encore écrits.
     Dans cet exemple, ce serait le champ CSRF (géré automatiquement par Symfony !)
     et tous les champs cachés (type « hidden »). #}
  {{ form_rest(formEditMedia) }}

  {# Fermeture de la balise <form> du formulaire HTML #}
  {{ form_end(formEditMedia) }}


   <!--start modal -->
   {% if trick is defined %}
  {% if trick is not null %}
    <div class="modal fade" id="thumbnail_delete" tabindex="-1" role="dialog" aria-hidden="true">
      <div class="modal-dialog modal-md">
        <div class="modal-content">

          <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Fermer</span></button>
              <h3 class="modal-title" id="actu_1">Suppression Image à la une</h3>
          </div>
          
          <div class="modal-body">
            <div class="blog-content">
            </div>
         
            <div>
              {{render(controller('TricksBundle:Thumbnail:delete',{'id': trick.id} ))}}
            </div>
           
          </div>

          <div class="modal-footer">
            <button type="button" class="btn btn-primary btn-lg" data-dismiss="modal">Fermer</button>
          </div>

        </div> 
      </div>
    </div>
    {% endif %}
      {% endif %}
  
<!--end modal -->

  <!--start modal -->
   {% if trick.images is defined %}
  {% for image in trick.images %}
  {% if image.id is not null %}
    <div class="modal fade" id="delete_image_{{image.id}}" tabindex="-1" role="dialog" aria-hidden="true">
      <div class="modal-dialog modal-md">
        <div class="modal-content">

          <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Fermer</span></button>
              <h3 class="modal-title" id="actu_1">Suppression  Image</h3>
          </div>
          
          <div class="modal-body">
            <div class="blog-content">
            </div>
         
            <div>
              {{render(controller('TricksBundle:Image:delete',{'id': image.id} ))}}
            </div>
           
          </div>

          <div class="modal-footer">
            <button type="button" class="btn btn-primary btn-lg" data-dismiss="modal">Fermer</button>
          </div>

        </div> 
      </div>
    </div>
   {% endif %}
   {% endfor %}
      {% endif %}
<!--end modal -->

<!--start modal -->
 
     {% if trick.videos is defined %}
  {% for video in trick.videos %}
  {% if video.id is not null %}
    <div class="modal fade" id="delete_video_{{video.id}}" tabindex="-1" role="dialog" aria-hidden="true">
      <div class="modal-dialog modal-md">
        <div class="modal-content">

          <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Fermer</span></button>
              <h3 class="modal-title" id="actu_1">Suppression Vidéo</h3>
          </div>
          
          <div class="modal-body">
            <div class="blog-content">
            </div>
         
            <div>
              {{render(controller('TricksBundle:Video:delete',{'id': video.id} ))}}
            </div>
           
          </div>

          <div class="modal-footer">
            <button type="button" class="btn btn-primary btn-lg" data-dismiss="modal">Fermer</button>
          </div>

        </div> 
      </div>
    </div>
   {% endif %}
   {% endfor %}
      {% endif %}

      

</div>
